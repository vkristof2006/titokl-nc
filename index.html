<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Szabadulószoba: Feladatok</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<header>
    <h1>Szabadulószoba: Feladatok</h1>
</header>

<main id="riddles">
    <!-- Oldal 1 -->
    <div class="page" id="page1">
        <h2>Feladat 1: Fedezd fel a könyvtárat!</h2>
        <p>Hány sora van az oszlopnak a könyvtárban? Figyelj a részletekre!</p>
        <input type="text" id="answer1" placeholder="Írd be a válaszodat">
        <button onclick="checkAnswer('answer1', '6', 'page1', 'page2')">Ellenőrizd a választ</button>
        <p id="result1" class="result"></p>
    </div>

    <!-- Oldal 2 -->
    <div class="page" id="page2" style="display: none;">
        <h2>Feladat 2: A rejtvény megfejtése!</h2>
        <p>Mennyi piros dobozt találsz a szobában? Kattints a piros dobozra a válaszért!</p>
        <button onclick="showRedBoxCount()">Piros doboz</button>
        <p id="result2" class="result"></p>
    </div>

    <!-- Oldal 3 -->
    <div class="page" id="page3" style="display: none;">
        <h2>Feladat 3: Rejtett üzenet!</h2>
        <p>Hány könyv van a bal oldalon az első oszlop legalsó részén? Keresd meg őket!</p>
        <input type="text" id="answer3" placeholder="Írd be a válaszodat">
        <button onclick="checkAnswer('answer3', '7', 'page3', 'page4')">Ellenőrizd a választ</button>
        <p id="result3" class="result"></p>
    </div>

    <!-- Oldal 4 -->
    <div class="page" id="page4" style="display: none;">
        <h2>Feladat 4: Az utolsó kihívás!</h2>
        <p>Hány zöld láda rejtőzik a szobában? Ne hagyd figyelmen kívül!</p>
        <input type="text" id="answer4" placeholder="Írd be a válaszodat">
        <button onclick="checkAnswer('answer4', '3', 'final')">Ellenőrizd a választ</button>
        <p id="result4" class="result"></p>
    </div>

    <!-- Végső üzenet -->
    <div class="page" id="final" style="display: none;">
        <h2>Gratulálunk! Megoldottad a feladatokat!</h2>
        <p>A kapott számok betűkké alakítva: 6, 4, 7, 3. Mi a kód?</p>
        <p><strong>6 = G, 4 = A, 7 = T, 3 = E</strong></p>
        <p>A titkosított végeredmény: <input type="text" id="finalCode" placeholder="Írd be a kódot"></p>
        <p><strong>Tippek: 3-as Caesar eltolással a válasz: JDWH</strong></p>
        <button onclick="checkFinalCode()">Ellenőrizd a kódot</button>
        <p id="codeResult" class="result"></p>
    </div>
</main>

<script src="script.js"></script>

<footer>
    <p>&copy; 2024 Minden jog fenntartva.</p>
</footer>

<script>
    function showRedBoxCount() {
        document.getElementById('result2').textContent = "A válasz: 4";
        document.getElementById('result2').style.color = "green";
        setTimeout(() => {
            document.getElementById('page2').style.display = 'none';
            document.getElementById('page3').style.display = 'block';
        }, 2000); 
    }

    function checkAnswer(inputId, correctAnswer, currentPage, nextPage) {
        const userAnswer = document.getElementById(inputId).value;
        const resultElement = document.getElementById('result' + inputId.charAt(inputId.length - 1));

        if (userAnswer === correctAnswer) {
            resultElement.textContent = "Helyes válasz!";
            resultElement.style.color = "green";

           
            document.getElementById(currentPage).style.display = 'none';

            
            if (nextPage === 'final') {
                document.getElementById('final').style.display = 'block';
            } else {
                document.getElementById(nextPage).style.display = 'block';
            }
        } else {
            resultElement.textContent = "Helytelen válasz, próbáld újra!";
            resultElement.style.color = "red";
        }
    }

    function checkFinalCode() {
        const userCode = document.getElementById('finalCode').value.toUpperCase();
        const correctCode = "JDWH"; // A titkosított kód
        const resultElement = document.getElementById('codeResult');

        if (userCode === correctCode) {
            resultElement.textContent = "Helyes kód!";
            resultElement.style.color = "green";
        } else {
            resultElement.textContent = "Helytelen kód, próbáld újra!";
            resultElement.style.color = "red";
        }
    }
</script>

</body>
</html>
